### 開發計畫：從基礎分析到進階模型的迭代策略

本計畫旨在透過一個清晰、迭代的流程，逐步建立一個能夠應對個體差異、具備高準確度的 EEG 事件檢測模型。

---

### **核心實驗哲學：解耦特徵與模型評估 (Core Experimental Philosophy)**

為了確保實驗的效率與結果的可靠性，我們採用**平行工作流程 (Parallel Workflow)**，將「特徵工程的有效性」與「模型演算法的複雜度」這兩個變因解耦，分開進行評估。

**這個設計的優勢在於：**

1.  **快速建立基準 (Fast Baseline)**: 我們使用簡單、快速且穩定的模型（如 **Logistic Regression**）作為評估特徵好壞的「感測器」。這使我們能迅速判斷一個特徵工程策略是否有效，而無需等待複雜模型的漫長訓練。
2.  **避免資源錯配 (Avoid Wasted Efforts)**: 如果直接在未經驗證的特徵上使用複雜模型（如 CNN），當結果不佳時，我們將難以判斷是特徵的問題還是模型的問題。本方法論可以避免在無效特徵上花費大量時間去進行模型調優。
3.  **系統性迭代 (Systematic Iteration)**:
    *   **特徵管線 (Feature Pipeline)**: 專注於比較不同特徵（原始訊號、濾波器組等）在同一個簡單基準模型上的表現，以證明特徵的價值。
    *   **模型管線 (Model Pipeline)**: 在一組固定的、已被驗證有效的特徵集上，比較不同複雜度模型（SVM, CNN, RNN 等）的表現，以衡量模型帶來的提升。

**總結：先用簡單模型驗證特徵，再用最佳特徵搭配先進模型。** 整個開發計畫將遵循此核心原則。

---

#### **第一階段：基礎分析與特徵工程 (Foundational Analysis & Feature Engineering)**

**目標**：遵循核心實驗哲學，為單一的 `(個體, 事件, 通道)` 模型找到最有效的數據特徵與超參數組合，建立一個穩健的建模方法論。

1.  **基準模型建立 (Baseline Establishment)**
    *   **目的**: 驗證單一 channel 的原始 EEG 訊號是否包含足夠的預測資訊，並為後續的改進建立一個客觀的比較基準。
    *   **對應實驗**: `@doc/experiment_reports/baseline_raw_signal/`
    *   **已完成**: 此階段已確認，即使是原始訊號，特定 channel 對特定事件也具備一定的預測能力。

2.  **特徵工程評估 (Feature Engineering Evaluation)**
    *   **目的**: 評估 `leadership_code` 中使用的 Filter Bank 特徵工程技術，是否能顯著提升基準模型的表現。
    *   **對應實驗**: `@doc/experiment_reports/feature_filterbank_v1/`
    *   **已完成**: 此階段已證實，Filter Bank 能夠大幅提升模型的 AUC 分數，應作為後續實驗的標準流程。

3.  **超參數最佳化 (Hyperparameter Optimization)**
    *   **目的**: 針對 Filter Bank 特徵提取器，系統性地尋找一組比預設參數更優的截止頻率組合，以最大化單一模型的預測潛力。
    *   **對應實驗**: `@doc/experiment_reports/optimize_filterbank_freqs/`
    *   **進行中**: 此階段旨在為每一個獨立的 `(個體, 事件, 通道)` 模型找到其專屬的最佳頻率。

**階段性結論**: 完成此階段後，我們將擁有一套經過驗證且最佳化的方法，可用於訓練任何一個指定的 `(個體, 事件, 通道)` 模型。

---

#### **第二階段：通用性驗證與模型擴展 (Generalization & Model Scaling)**

**目標**：將第一階段建立的最佳建模方法應用於所有目標，系統性地分析模型在不同事件與個體之間的表現差異，並制定最終的預測策略。

1.  **事件通用性分析 (Event Generalization)**
    *   **流程**: 選定單一個體 (例如 `subj1`)，使用第一階段的最佳方法，為其**所有 6 個事件**分別訓練模型。
    *   **分析**: 比較同一個體在不同事件上的模型表現，了解哪些事件本身較易或較難預測。

2.  **個體差異分析 (Subject Generalization)**
    *   **流程**: 將第一階段的最佳方法應用於**所有 12 位個體**的**所有 32 個 channels** 與**所有 6 個事件**。
    *   **分析**: 比較不同個體之間的模型表現。若表現差異顯著，則證實為每個個體建立專屬模型 (Subject-Specific Models) 的必要性。

3.  **最終策略制定 (Final Strategy Formulation)**
    *   **決策**: 根據分析結果，決定最終的建模策略。
        *   **策略 A (最可能)**: 為每個個體訓練一組專屬的模型。
        *   **策略 B**: 若個體差異不大，嘗試訓練一個能適用於所有個體的通用模型。

---

#### **第三階段：進階模型與預測 (Advanced Modeling & Prediction)**

**目標**：基於前兩個階段的結論，建立用於最終預測的高性能模型，並產生提交檔案。

1.  **多通道模型 (Multi-Channel Models)**
    *   **流程**: 根據第二階段的分析結果，為每個 `(個體, 事件)` 組合篩選出表現最好的 Top-N 個 channels，將它們的特徵結合起來，訓練一個多通道模型。
    *   **研究問題**: 結合多個高相關性 channel 的特徵，是否能顯著提升預測準確率？

2.  **模型融合 (Ensembling)**
    *   **流程**: 嘗試將不同模型 (例如，來自不同 channel 或使用不同特徵集的模型) 的預測結果進行加權平均或堆疊 (stacking)，以進一步提升穩定性與準確度。

3.  **預測與提交 (Prediction & Submission)**
    *   **流程**: 使用最終選定的模型，對測試集 (`series9`, `series10`) 進行預測，並產生符合格式的 `submission.csv` 檔案。